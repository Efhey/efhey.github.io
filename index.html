<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JF PichÃ© â€“ Portfolio</title>
  <meta name="description" content="Portfolio minimal de JF PichÃ© â€“ concepteur lumiÃ¨re" />
  <link rel="icon" href="assets/favicon.png" />
  <style>
    :root{--bg:#0b0c10;--text:#e5e7eb;--muted:#a3a3a3;--brand:#7dd3fc;--card:#121419;--r:16px}
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{color:var(--brand);text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:28px}
    header{margin:8px 0 24px}
    h1{font-size:34px;line-height:1.2;margin:0}
    .sub{color:var(--muted);margin-top:6px}
    .pill{display:inline-block;border:1px solid rgba(255,255,255,.14);border-radius:999px;padding:4px 10px;color:var(--muted);font-size:13px}
    section{margin:28px 0}
    h2{font-size:22px;margin:0 0 10px}
    

    /* Projets */
    .projects{display:grid;gap:18px}
    .project{border:1px solid rgba(255,255,255,.08);border-radius:var(--r);background:var(--card);padding:16px}
    .project h3{margin:0 0 4px;font-size:18px}
    .meta{color:var(--muted);font-size:14px;margin-bottom:10px}
    .project p{margin:0 0 12px}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
    @media (max-width:900px){.gallery{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){.gallery{grid-template-columns:1fr}}
    figure{margin:0}
    .ph{aspect-ratio:4/4;border-radius:10px;overflow:hidden}
    img{display:block;width:100%;height:100%;object-fit:cover}
    figcaption{font-size:11px;color:var(--muted);margin-top:4px;text-align:right;font-style:italic}

    footer{margin:26px 0;color:var(--muted);font-size:14px}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:1000}
    .lightbox img{max-width:90%;max-height:90%;border-radius:10px;object-fit: contain;}
    .lightbox.close-hint{cursor:zoom-out}

    /* Lightbox nav */
    .lightbox button{position:absolute; top:50%; transform:translateY(-50%);background:rgba(255,255,255,.2); border:none; color:#fff;font-size:2rem; padding:8px 12px; border-radius:8px; cursor:pointer;}
    .lightbox .prev{ left:20px; }
    .lightbox .next{ right:20px; }
    .lightbox button:hover{ background:rgba(255,255,255,.35); }
    .lightbox button:focus{ outline:2px solid rgba(125,211,252,.8); outline-offset:2px; }
    @media (max-width:640px){.lightbox button{ font-size:1.6rem; padding:6px 10px; }
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <h1>JF PichÃ© - Concepteur lumiÃ¨re</h1>
    </header>

    <section id="projets">
      <div class="projects">
        <!-- PROJET 1 -->
        <article class="project">
          <h3>La Noce dâ€™Alfonse</h3>
          <div class="gallery">
            <figure>
              <div class="ph"><img src="assets/noce-1.jpg" alt="La Noce dâ€™Alfonse â€“ vue 1"></div>
              <figcaption>ðŸ“¸ CrÃ©ditÂ : JF Savaria</figcaption>
            </figure>
            <figure>
              <div class="ph"><img src="assets/noce-2.jpg" alt="La Noce dâ€™Alfonse â€“ vue 2"></div>
              <figcaption>ðŸ“¸ CrÃ©ditÂ : JF Savaria</figcaption>
            </figure>
            <figure>
              <div class="ph"><img src="assets/noce-3.jpg" alt="La Noce dâ€™Alfonse â€“ vue 3"></div>
              <figcaption>ðŸ“¸ CrÃ©ditÂ : JF Savaria</figcaption>
            </figure>
          </div>
        </article>
    </section>

    <section id="contact">
      <h2>Contact</h2>
      <p><a href="mailto:info@jfpiche.ca">info@jfpiche.ca</a></p>
    </section>

    <footer>
      Â© <span id="y"></span> JF PichÃ©
    </footer>
  </main>

  <!-- Lightbox overlay (une seule fois, en dehors des projets) -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="prev" aria-label="Image prÃ©cÃ©dente">âŸ¨</button>
    <img src="" alt="Agrandissement" />
    <button class="next" aria-label="Image suivante">âŸ©</button>
  </div>

  <script>
    // annÃ©e footer
    document.getElementById('y').textContent = new Date().getFullYear();

    // Lightbox
    const lightbox = document.getElementById('lightbox');
    const lightImg = lightbox.querySelector('img');
    const btnPrev   = lightbox.querySelector('.prev');
    const btnNext   = lightbox.querySelector('.next');

    // On navigue DANS la galerie du projet cliquÃ© (pas toutes les images du site)
    let currentList = [];   // Array<IMG> de la galerie active
    let currentIndex = 0;   // index dans currentList

    function openLightbox(list, index){
    currentList  = list;
    currentIndex = index;
    lightImg.src = currentList[currentIndex].src;
    lightbox.style.display = 'flex';
    lightbox.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden'; // Ã©vite le scroll derriÃ¨re
  }
  function closeLightbox(){
    lightbox.style.display = 'none';
    lightbox.setAttribute('aria-hidden','true');
    lightImg.src = '';
    document.body.style.overflow = '';
  }

  function show(delta){
    if (!currentList.length) return;
    currentIndex = (currentIndex + delta + currentList.length) % currentList.length;
    lightImg.src = currentList[currentIndex].src;
  }

  // Click sur chaque image d'une galerie -> ouvre la lightbox
  document.querySelectorAll('.gallery').forEach(gal => {
    const imgs = Array.from(gal.querySelectorAll('img'));
    imgs.forEach((img, i) => {
      img.style.cursor = 'zoom-in';
      img.addEventListener('click', () => openLightbox(imgs, i));
    });
  });

  // Boutons prev/next (on empÃªche que le click ferme la lightbox)
  btnNext.addEventListener('click', e => { e.stopPropagation(); show(+1); });
  btnPrev.addEventListener('click', e => { e.stopPropagation(); show(-1); });

  // Fermer en cliquant le fond
  lightbox.addEventListener('click', closeLightbox);

  // Navigation clavier
  window.addEventListener('keydown', (e) => {
    if (lightbox.getAttribute('aria-hidden') === 'true') return;
    if (e.key === 'Escape') closeLightbox();
    else if (e.key === 'ArrowRight') show(+1);
    else if (e.key === 'ArrowLeft') show(-1);
  });
  </script>
</body>
</html>
